{"mappings":"oeAGA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAQC,SAASC,cAAc,SAC/BC,EAAc,CAClBC,MAAOH,SAASC,cAAc,uBAC9BG,KAAMJ,SAASC,cAAc,sBAC7BI,OAAQL,SAASC,cAAc,yBAG3BK,EAAaN,SAASO,eAAe,aA0C3C,SAASC,EAAcC,EAAUN,GAC/B,OAAO,IAAIO,SAAQ,CAACC,EAAKC,KACvBC,YAAW,KACaC,KAAKC,SAAW,GAEpCJ,EAAI,uBAAqBF,QAAiBN,OAExCS,EAAE,sBAAoBH,QAAeN,MAAU,GAElDA,EAAM,G,CAlDKH,SAASO,eAAe,YAEhCS,iBAAiB,SAAS,KAClCd,EAAYC,MAAMc,MAAQ,OAC1Bf,EAAYE,KAAKa,MAAQ,MACzBf,EAAYG,OAAOY,MAAQ,IAC3BX,EAAWY,UAAW,CAAK,IAG7BnB,EAAMiB,iBAAiB,UAAUG,IAC/BA,EAAMC,iBACNd,EAAWY,UAAW,EAE8B,MAA9Cf,EAAQkB,OAAOnB,EAAYC,MAAMc,OACjCb,EAAOiB,OAAOnB,EAAYE,KAAKa,OAC/BZ,EAASgB,OAAOnB,EAAYG,OAAOY,OAEzC,GAAIb,EAAO,GAAKD,EAAQ,GAAKE,GAAU,EAGV,OAF3BR,EAAAyB,OAAOC,QAAQ,iDACqBjB,EAAzBY,UAAW,GAIxB,IAAK,IAAIM,EAAI,EAAGA,EAAInB,EAAQmB,GAAK,EAAG,CAGlChB,EAAcgB,EAAI,EAFGrB,EAAQqB,EAAIpB,GAG9BqB,MAAKR,IACJpB,EAAAyB,OAAOI,QAAQT,EAAM,IAEtBU,OAAMC,IACL/B,EAAAyB,OAAOC,QAAQK,EAAI,IAEpBC,SAAQ,KACHL,IAAMnB,EAAS,IACjBC,EAAWY,UAAW,EAAK,G","sources":["src/js/03-promises.js"],"sourcesContent":["//! ------------------------------   ВАРІАНТ 5   ----------------------------------\n//! неактивна кнопка\n\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst $form = document.querySelector('.form');\nconst $formInputs = {\n  delay: document.querySelector('input[name=\"delay\"]'),\n  step: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n};\n\nconst $submitBtn = document.getElementById('submitBtn');\nconst $resetBtn = document.getElementById('resetBtn');\n\n$resetBtn.addEventListener('click', () => {\n  $formInputs.delay.value = '1000';\n  $formInputs.step.value = '500';\n  $formInputs.amount.value = '5';\n  $submitBtn.disabled = false; //* Активуємо кнопку \"Submit\" при натисканні \"Reset\"\n});\n\n$form.addEventListener('submit', event => {\n  event.preventDefault();\n  $submitBtn.disabled = true; //* Робимо кнопку \"Submit\" неактивною перед початком створення промісів\n\n  const delay = Number($formInputs.delay.value);\n  const step = Number($formInputs.step.value);\n  const amount = Number($formInputs.amount.value);\n\n  if (step < 0 || delay < 0 || amount <= 0) {\n    Notify.failure('Некоректні значення введених параметрів!');\n    $submitBtn.disabled = false; //* Активуємо кнопку \"Submit\", якщо є помилки\n    return;\n  }\n\n  for (let i = 0; i < amount; i += 1) {\n    const promiseDelay = delay + i * step;\n\n    createPromise(i + 1, promiseDelay)\n      .then(value => {\n        Notify.success(value);\n      })\n      .catch(err => {\n        Notify.failure(err);\n      })\n      .finally(() => {\n        if (i === amount - 1) {\n          $submitBtn.disabled = false; //* Активуємо кнопку \"Submit\" після закінчення створення промісів\n        }\n      });\n  }\n});\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        res(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        rej(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, delay);\n  });\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$$form","document","querySelector","$47d4ff9957288465$var$$formInputs","delay","step","amount","$47d4ff9957288465$var$$submitBtn","getElementById","$47d4ff9957288465$var$createPromise","position","Promise","res","rej","setTimeout","Math","random","addEventListener","value","disabled","event","preventDefault","Number","Notify","failure","i","then","success","catch","err","finally"],"version":3,"file":"03-promises.7c38df5a.js.map"}